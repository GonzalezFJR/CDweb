{% extends "base.html" %}

{% block extra_head %}
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.snow.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/lib/codemirror.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/theme/material-darker.min.css" />
{% endblock %}

{% block content %}
<section class="section container reveal">
  <h1>Nueva noticia</h1>
  <p>Puedes añadir HTML en el contenido para dar formato. Las imágenes se subirán a /static/store/activities/.</p>
  <form class="form" method="post" enctype="multipart/form-data">
    <label>Título
      <input type="text" name="title" required />
    </label>
    <label>Resumen
      <textarea name="summary" rows="3" required></textarea>
    </label>
    <div class="rich-editor" data-rich-editor>
      <div class="rich-editor__header">
        <span class="rich-editor__label">Contenido</span>
        <label class="rich-editor__switch">
          <input type="checkbox" class="rich-editor__toggle-input" />
          <span class="rich-editor__switch-slider"></span>
          <span class="rich-editor__switch-text">Editar HTML sin formato</span>
        </label>
      </div>
      <div class="rich-editor__quill" data-rich-editor-quill></div>
      <textarea class="rich-editor__textarea" name="content_html" rows="12" required></textarea>
    </div>
    <label>Imagen principal
      <input type="file" name="image" accept="image/*" />
    </label>
    <div class="image-gallery" data-image-gallery data-image-scope="activities">
      <button class="button ghost small" type="button" data-gallery-toggle>Agregar otras imágenes</button>
      <div class="image-gallery__panel" hidden>
        <div class="image-gallery__actions">
          <label class="button ghost small">
            Subir imágenes
            <input type="file" accept="image/*" multiple data-gallery-upload hidden />
          </label>
          <button class="button" type="button" data-gallery-insert disabled>Agregar imagen a contenido</button>
        </div>
        <div class="image-gallery__grid" data-gallery-grid></div>
        <div class="image-gallery__pagination" data-gallery-pagination></div>
      </div>
    </div>
    <button class="button" type="submit">Publicar noticia</button>
  </form>
</section>
{% endblock %}

{% block extra_scripts %}
  <script src="https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/lib/codemirror.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/mode/xml/xml.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/mode/javascript/javascript.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/mode/css/css.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/mode/htmlmixed/htmlmixed.min.js"></script>
  <script defer src="/static/js/rich_text.js"></script>
{% endblock %}
